# Creative Project Instruction - 依存関係管理ガイド

このファイルは、プロジェクト内のファイル間の依存関係と、変更時の必須チェック項目を定義します。
**重要: ファイルを編集する前に、必ずこのガイドを確認してください。**

## 🎯 プロジェクトの目的
このプロジェクトは、LP制作と動画広告制作のための構造化された知識ベースです。
各ファイルが特定の役割を持ち、相互に連携して効果的なクリエイティブ制作を支援します。

## 🏗️ プロジェクトのアーキテクチャ

このプロジェクトは**統合ガイド型フレームワーク**です：

### 基本原則
1. **creation-flowが統合実装**
   - 動画制作と同様にLP制作も統合ガイド化（2025-01-28統合）
   - 具体的な手法・テンプレート・フォーマットを直接記載
   - モジュール参照ではなく、完全な制作ガイドとして機能

2. **事例集で実践支援**
   - 成功事例をexamples/フォルダで管理
   - 制作時の参考・ベンチマークとして活用
   - 動画制作のscripts/と同じアプローチ

3. **シンプルな構造**
   - 複雑なモジュール構造を廃止
   - メンテナンス性と使いやすさを優先
   - 必要な知識を一箇所に集約

### 実装の変更点（2025-01-28）
- LP制作: 18個のモジュールファイル → 1つの統合ガイド
- 動画制作と同じ構造に統一
- 事例ベースの学習・改善サイクル導入

## 📋 主要ファイルの依存関係マップ

### 1. base-instruction.md（中核ファイル）
変更時に影響を受けるファイル：
- [ ] `lp-creation-flow.md` - LP制作統合ガイド
- [ ] `video-creation-flow.md` - 動画広告制作統合ガイド
- [ ] `README.md` - プロジェクト説明との整合性
- [ ] `knowledge-base/lp/examples/` - LP成功事例集
- [ ] `knowledge-base/video/scripts/` - 動画台本事例集

### 2. 統合creation-flowファイル（lp-creation-flow.md、video-creation-flow.md）
変更時の確認事項：
- [ ] `base-instruction.md` の参照部分
- [ ] 事例集フォルダとの整合性
- [ ] Phase構成の統一性
- [ ] 自動リサーチ実行の記述
- [ ] 最終成果物のフォーマット

## 📂 ディレクトリ構造

```
creative-project-instruction/
├── base-instruction.md                 # 中核インストラクションファイル
├── creation-flows/
│   ├── lp-creation-flow.md             # LP制作統合ガイド（2025-01-28統合化）
│   └── video-creation-flow.md          # 動画広告制作統合ガイド
├── knowledge-base/
│   ├── lp/                            # LP制作ナレッジベース（統合ガイド＋事例集）
│   │   └── examples/                  # 成功事例集
│   │       ├── [業界]_[商材].md       # 業界別・商材別の成功事例
│   │       └── ...                    # その他の事例ファイル
│   └── video/                         # 動画制作ナレッジベース（統合ガイド＋事例集）
│       └── scripts/                   # 台本事例集
│           ├── beauty_skincare.md     # 美容・スキンケア事例
│           ├── health_supplement.md   # 健康・サプリメント事例
│           ├── education_course.md    # 教育・オンライン講座事例
│           ├── fashion_apparel.md     # ファッション・アパレル事例
│           ├── service_app.md         # サービス・アプリ事例
│           └── ...                    # その他の事例
├── CLAUDE.md                          # 依存関係管理ガイド（このファイル）
└── README.md                          # プロジェクト全体説明
```

## 📊 ファイルの役割と使用タイミング

### Phase別のガイド使用
- **Phase 0（リサーチ）**: lp-creation-flow.md（チャネル分析、市場分析、ペルソナ作成、競合分析）（LP） / video-creation-flow.md（自動リサーチ）（動画）
- **Phase 1（ストーリー設計）**: lp-creation-flow.md（ストーリーパターン、セクション構成、価値提案）（LP） / video-creation-flow.md + scripts/事例検索（動画）
- **Phase 2（制作）**: lp-creation-flow.md（ビジュアルパターン、コピーライティング、素材管理）（LP） / video-creation-flow.md（シーン構成パターン）（動画）
- **アーティファクト作成時**: 両creation-flowに記載されたテンプレートで直接作成

## 🚨 変更チェックリスト

### A. 機能追加・変更時
1. **base-instruction.md を更新した場合**
   - [ ] 該当するcreation-flowファイルを更新
   - [ ] README.md の説明と矛盾がないか確認
   - [ ] 事例集フォルダとの整合性を確認

2. **新しい手法やパターンを追加した場合**
   - [ ] creation-flowファイルに直接記載
   - [ ] 成功事例があれば examples/ または scripts/ に追加
   - [ ] 関連するPhaseでの言及を確認

3. **用語や名称を変更した場合**
   - [ ] 全ファイル横断で検索・置換を実施
   - [ ] 事例ファイルも含めて確認
   - [ ] フォルダ名やディレクトリ構造も確認

4. **Phase構成を変更した場合**
   - [ ] LP制作: Phase 0 → Phase 1 → Phase 2（統合ガイド）
   - [ ] 動画制作: Phase 0 → Phase 1 → Phase 2（統合ガイド）
   - [ ] 両方のcreation-flowファイルで統一

### B. ファイル構造変更時
1. **creation-flowファイルを変更した場合**
   - [ ] base-instruction.md での言及を確認
   - [ ] README.md のディレクトリ構造を更新
   - [ ] 両方のcreation-flowファイルの構成統一

2. **事例ファイルを追加した場合**
   - [ ] 適切なフォルダ（examples/ または scripts/）に配置
   - [ ] ファイル命名規則に従う（[業界]_[商材].md）
   - [ ] メタデータを正確に記載


## 🔧 変更実施の推奨手順

1. **変更前**
   - このCLAUDE.mdで影響範囲を確認
   - 関連ファイルをリストアップ

2. **変更実施**
   - creation-flowファイルを直接修正
   - チェックリストに従って関連ファイルを更新
   - 必要に応じて事例ファイルを追加

3. **変更後**
   - 全体の整合性を確認
   - 用語の統一性を検証
   - テスト: 各base-instruction-*.mdからの読み込みフローを確認

## 💡 ベストプラクティス

1. **小さな変更でも依存関係を確認**
   - 用語一つの変更でも複数ファイルに影響する可能性

2. **ナレッジベース参照は実在確認**
   - 新しいパスを追加する前にファイルを作成

3. **ファイル間の整合性**
   - 各base-instruction-*.mdと対応するcreation-flowで機能説明が矛盾しないように

4. **定期的な整合性チェック**
   - 大きな変更後は全体レビューを実施

5. **Phase構成の違い**
   - LP制作: Phase 0（チャネル分析重視） → Phase 1（ストーリー設計） → Phase 2（セクション制作）
   - 動画制作: Phase 0 → Phase 1（**5つの完全台本作成必須**→選択→修正→確定） → Phase 2

6. **動画ナレッジベースの特徴（2025-01-28統合ガイド化）**
   - **構造**：
     - **統合ガイド1つ**（video-creation-guide.md）
     - **事例集フォルダ**（scripts/）
     - メタデータ廃止、シンプルな構造
   - **Phase 1の必須事項**：
     - **必ず最初に5つの完全台本パターンを作成**
     - video-creation-guide.mdを必ず参照
     - scripts/から関連事例を検索・参考
   - 最終成果物：動画構成表＋素材リスト（英語プロンプト付き）

7. **自動リサーチ機能**
   - **動画制作**: video-creation-flow.mdのステップ0-1完了後に自動実行
   - **LP制作**: lp-creation-flow.mdのステップ1（基本情報収集）完了後に自動実行
   - WebSearchとWebFetchツールを活用
   - 競合分析、業界トレンド、チャネル別成功パターンを自動収集

8. **動画素材管理の新アプローチ**
   - video-output.mdで素材リストとAI生成プロファイルに特化
   - 制作指示書形式を廃止し、実用的な素材生成に集中
   - バリエーション管理とプラットフォーム最適化を強化

9. **ナレーションテイスト機能（動画制作）**
   - 6つのテイスト（プロフェッショナル、フレンドリー、エネルギッシュ、エモーショナル、ニュートラル、親密）
   - 8つの体験要素（悩み、失敗談、きっかけ、実感、喜び、後悔、驚き、比較）
   - テイストと体験要素の組み合わせで共感度の高いナレーションを生成
   - 親密トーンは年代別カスタマイズに対応

10. **ナレッジベース管理体制**
   - **動画**: 統合ガイド1つ＋事例集（2025-01-28統合化）
   - **LP**: 18モジュール（2025-01-25大改革により整理）
   - **運用方針**:
     - 必要に応じてガイド内容の改善
     - 事例の継続的な追加
     - ユーザーフィードバックに基づく最適化
     - **LP重要**: モジュール更新時は必ずindex.mdも同時に検証・更新

11. **LP制作システムの大改革（2025-01-25完了）**
   - **新アプローチ**: チャネルファースト・ストーリー型設計への転換
   - **Phase構成の刷新**:
     - Phase 0: リサーチ（#CHANNEL_ANALYSIS主導）
     - Phase 1: ストーリー設計（#LP_STORY_PATTERNS + #SECTION_STRUCTURE）
     - Phase 2: セクション制作（視覚×コピー×素材の統合管理）
   - **新規モジュール6つ追加**:
     - #CHANNEL_ANALYSIS: 広告チャネル特性分析
     - #LP_STORY_PATTERNS: 5つの基本ストーリーパターン
     - #SECTION_STRUCTURE: 標準6セクション構成
     - #LP_VISUAL_PATTERNS: セクション別ビジュアルパターン
     - #LP_COPY_PATTERNS: セクション別コピーパターン
     - #LP_MATERIAL_SYSTEM: 素材管理システム
   - **既存モジュール更新**:
     - #MODULE_SELECTION: ストーリーパターン選択へ進化
     - #FLOW_DESIGN: セクション間接続最適化へ特化

12. **動画制作システムの統合化（2025-01-28完了）**
   - **変更内容**：
     - 3つのモジュール → 1つの統合ガイド
     - メタデータ廃止
     - 事例集フォルダ追加
   - **新構造**：
     - video-creation-guide.md：すべての制作知識を統合
     - scripts/：成功事例の蓄積と活用
   - **成果物**：
     - 動画構成表と素材リスト（英語プロンプト付き）
     - シンプルで実用的な形式

## 📋 LPモジュールのメタデータ管理

### モジュール更新時の必須チェックリスト（LP専用）

LPナレッジベースのモジュール（`/knowledge-base/lp/`内の`#`で始まるファイル）を更新する際は、以下のメタデータを必ず確認・更新してください：

1. **メタデータヘッダーの確認**
   - [ ] `marker`: ユニークで、ファイル名と一致（例：`#CTA_STRATEGY`）
   - [ ] `prefix`: コンテキストを適切に表現する文字列
   - [ ] `priority`: `core`、`standard`、`optional`のいずれか
   - [ ] `tags`: 検索性を考慮した関連キーワードの配列
   - [ ] `dependencies`: 他モジュールとの依存関係を正確に記載
   - [ ] `conversation_tracking`: 会話中で追跡すべき項目
   - [ ] `version`: バージョン番号を更新
   - [ ] `last_updated`: 更新日を記録（YYYY-MM-DD形式）

### メタデータフィールドの説明

```yaml
---
marker: #MODULE_NAME           # 検索・参照用の一意識別子
prefix: "CONTEXT: 説明"        # AIのコンテキスト理解用
title: モジュール名            # 人間が読む用のタイトル
priority: standard             # core/standard/optional
cache_hint: stable            # stable/dynamic
category: planning            # research/planning/output
tags: [タグ1, タグ2]          # 検索用キーワード
dependencies:
  required: []                # 必須の前提モジュール
  recommended: []             # 併用推奨モジュール
conversation_tracking:        # 会話内で追跡する項目
  - 項目1
  - 項目2
version: 1.0                  # バージョン管理
last_updated: 2025-01-24      # 最終更新日
---
```

### タグ管理のベストプラクティス

**一般カテゴリタグ**：
- `フック`、`ストーリー`、`ナレーション`、`CTA`
- `リサーチ`、`分析`、`戦略`、`実装`

**機能別タグ**：
- `心理学`、`データ分析`、`最適化`、`テンプレート`
- `ガイドライン`、`チェックリスト`、`事例`

**技術タグ**：
- `AI生成`、`プラットフォーム`、`自動化`、`測定`

### 依存関係の管理ルール

1. **required（必須依存）**：
   - このモジュールを使用する前に必ず参照すべきモジュール
   - 例：`#EXPERIENCE_ELEMENTS`は`#NARRATION_TONE`を必須とする

2. **recommended（推奨依存）**：
   - 併用することで効果が高まるモジュール
   - 例：`#CTA_STRATEGY`は`#HOOK_METHODOLOGY`との併用を推奨

3. **循環参照の防止**：
   - AがBを必須とし、BがAを必須とする関係は避ける
   - 相互推奨は可能

### モジュール変更時の影響確認【必須】

#### 1. **index.mdの更新（最重要）**：
モジュールを変更した際は、**必ず**index.mdも確認・更新してください。

**必須確認項目**：
- [ ] モジュールのtitleがindex.mdの記載と一致しているか
- [ ] priorityの変更がPhase別配置に正しく反映されているか
- [ ] 新規tagsが目的別検索セクションに追加されているか
- [ ] モジュールの説明文が最新の機能を正確に表現しているか
- [ ] Phase別アクセスガイドでの参照順序が適切か

**具体的な検証ポイント**：
```
□ title: メタデータとindex.mdで同一
□ priority: core/standard/optionalの配置確認
□ tags: 新規タグの検索セクション追加
□ 説明文: 機能変更を反映した内容
□ 依存関係: 前後のモジュールとの整合性
```

#### 2. **creation-flowファイルの確認**：
- [ ] 該当モジュールへの参照箇所（video-creation-flow.mdまたはlp-creation-flow.md）
- [ ] 参照コンテキストが適切か
- [ ] Phase別の使用タイミングが正しいか

#### 3. **他モジュールへの影響**：
- [ ] このモジュールを依存関係に含む他モジュールの確認
- [ ] 破壊的変更の場合は関連モジュールも更新
- [ ] 依存関係の双方向チェック（A→B、B→A）

### モジュール新規作成時の手順

1. ファイル名を`#MODULE_NAME.md`形式で作成
2. 上記メタデータヘッダーを記載
3. **index.mdに追加（必須）**：
   - 適切なPhaseとpriorityで配置
   - モジュールの説明文を記載
   - 目的別検索セクションへの追加検討
4. creation-flowファイルの該当箇所に参照を追加
5. 関連モジュールのdependenciesを更新
6. **双方向の整合性確認**：
   - 新規モジュール→既存ファイル：参照が正しいか
   - 既存ファイル→新規モジュール：必要な参照を追加したか

## 📝 動画事例作成時のフォーマット指示

### scripts/配下にファイル作成時の必須ルール

動画台本事例をscripts/フォルダに追加する際は、必ず以下のフォーマットに従ってください：

#### ファイル名規則
```
[カテゴリ]_[詳細].md
```
例：`beauty_skincare.md`, `health_supplement.md`, `education_course.md`

#### 事例ファイルの構成
```markdown
# [ファイル名].md

## カテゴリ
[美容・スキンケア/健康・サプリメント/教育・オンライン講座/ファッション・アパレル/サービス・アプリ等]

## 台本
[完全な台本テキストをそのまま記載]

## 分析
- [この台本の優れている点1]
- [この台本の優れている点2]
- [この台本の優れている点3]
- [この台本の優れている点4]
- [この台本の優れている点5]

## メタデータ
tags: [カテゴリ, サブカテゴリ, 訴求型, フック種類, 尺, プラットフォーム, トーン, ターゲット年代]
```

#### 必須タグカテゴリ
- **カテゴリ**：美容、健康、教育、ファッション、食品、サービス、アプリ等
- **訴求型**：悩み訴求、変化訴求、権威訴求、限定訴求、親密訴求
- **フック種類**：疑問形フック、断定形フック、共感フック、警告フック、統計フック等
- **尺**：15秒、30秒、60秒
- **プラットフォーム**：TikTok、Instagram、YouTube、Facebook、LINE VOOM等
- **トーン**：親密トーン、プロフェッショナルトーン、エネルギッシュトーン、フレンドリートーン
- **ターゲット年代**：Z世代、ミレニアル、X世代、シニア

#### 事例品質基準
1. **実績のある台本のみ収録**
   - CTR 2%以上
   - CVR 1%以上
   - または特筆すべき成果がある

2. **分析は具体的に**
   - なぜ効果的だったのか
   - どの部分が優れているのか
   - 再現可能なポイントは何か

3. **個人情報・機密情報の除去**
   - 実在の商品名は伏せ字または一般名称に
   - 具体的な数値は範囲表現に
   - クライアント情報は含めない

**重要**: README.mdは削除されているため、このCLAUDE.mdの指示に必ず従って事例を作成してください。

## 📝 LP事例作成時のフォーマット指示

### examples/配下にファイル作成時の必須ルール

LP事例をexamples/フォルダに追加する際は、必ず以下のフォーマットに従ってください：

#### ファイル名規則
```
[業界]_[商材].md
```
例：`btob_saas.md`, `btoc_supplement.md`, `education_course.md`

#### 事例ファイルの構成
```markdown
# [ファイル名].md

## カテゴリ
[BtoB・SaaS/BtoC・EC/教育・スキルアップ/美容・コスメ/サービス・コンサル等]

## LPコンテンツ
[URLからフェッチした実際のテキストコンテンツと画像配置を記載]

### ファーストビュー
[実際のキャッチコピー、画像配置等]

### 問題提起セクション
[実際のコンテンツ]

### 解決策セクション
[実際のコンテンツ]

### 信頼性セクション
[実際のコンテンツ]

### オファーセクション
[実際のコンテンツ]

### CTAセクション
[実際のコンテンツ]

## 分析
- [このLPの優れている点1]
- [このLPの優れている点2]
- [このLPの優れている点3]
- [このLPの優れている点4]
- [このLPの優れている点5]

## メタデータ
tags: [業界, 商材タイプ, ストーリーパターン, チャネル, ターゲット層, デザインスタイル]
```

#### 必須タグカテゴリ
- **業界**：BtoB、BtoC、教育、美容、サービス等
- **商材タイプ**：SaaS、EC、講座、物販、コンサル等
- **ストーリーパターン**：問題提起型、ベネフィット型、権威型、限定性型、ストーリー型
- **チャネル**：Google広告、Facebook広告、Instagram広告等
- **ターゲット層**：経営者、マーケター、主婦、学生等
- **デザインスタイル**：ミニマル、カラフル、プロフェッショナル、親しみやすい等

#### 事例作成プロセス
1. **URLからのコンテンツ取得**
   - WebFetchツールを使用してLPコンテンツを取得
   - テキストと画像配置を構造化して記録

2. **分析は具体的に**
   - なぜ効果的なのか
   - どの要素が優れているのか
   - 再現可能なポイントは何か

3. **個人情報・機密情報の除去**
   - 実在の商品名は伏せ字または一般名称に
   - 具体的な数値は範囲表現に
   - クライアント情報は含めない

**重要**: 動画scriptsと同様の形式で、実用的なLP事例データベースを構築してください。

